---
name: claude-prompt-engineering
description: Optimize Claude Code prompts for Opus 4.6, Sonnet 4.5, and Haiku 4.5 with model-aware reasoning settings, context control, safe tool use, and concise output shaping.
---

# Claude Prompt Engineering

> **Knowledge snapshot from:** 2026-02-20
>
> **Generated by:** cogworks

## Overview

This skill provides practical, Claude-specific prompt engineering guidance for Opus 4.6, Sonnet 4.5, and Haiku 4.5. It emphasizes fast model-aware decisions: reasoning mode selection, context management, safe autonomy, tool efficiency, and output control.

## When to Use This Skill

Use this skill when you need to:

- Design or review Claude system prompts
- Tune adaptive or extended thinking behavior
- Improve tool orchestration and parallelization
- Handle long-horizon or multi-window workflows
- Add prompt-injection and data-leakage safeguards
- Reduce verbosity while preserving answer quality

## Quick Decision Cheatsheet

- **Opus 4.6**: Use adaptive thinking (`low|medium|high|max`) only when task complexity justifies it.
- **Sonnet 4.5**: Use extended thinking for legacy workflows; minimum budget 1024 tokens.
- **Simple tasks**: Prefer no explicit thinking config.
- **Long tasks**: Persist state in files + git checkpoints.
- **Independent reads/searches**: Run tool calls in parallel.
- **Risky/irreversible actions**: Ask for confirmation first.
- **Production exposure**: Apply defense-in-depth (input, architecture, output).

## Supporting Docs

- `reference.md`: Canonical guidance, decision rules, anti-patterns, and sources
- `patterns.md`: Reusable patterns and templates
- `examples.md`: Compact before/after prompt examples

## Model Routing Contract

- **primary-capability-class**: reasoning
- **fallback-capability-class**: workhorse
- **task-to-capability mapping**:
  - source ingestion/extraction: workhorse
  - synthesis/contradiction resolution: reasoning
  - final skill drafting: workhorse
- **quality gates tied to capability**:
  - reasoning: resolve contradictions and justify the interpretation
  - workhorse: complete structure with citations and no stubs
- **runtime model resolution**:
  - map capability classes to provider/runtime defaults automatically
  - never ask the user to choose a model

## Invocation

```text
/claude-prompt-engineering
```
